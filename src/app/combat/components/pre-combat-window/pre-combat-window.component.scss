.pre-combat-overlay {
  position: absolute; inset: 0; z-index: 9999;
  background: rgba(0,0,0,.82); backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  color: #fff; font-family: 'Spectral', serif; animation: fadeIn .25s ease-out;
}

.window {
  width: min(92vw, 460px); padding: 16px 14px 14px;
  background: rgba(18,18,18,.95); border: 1px solid #555; border-radius: 14px;
  box-shadow: 0 8px 24px rgba(0,0,0,.5);
  display: flex; flex-direction: column; gap: 12px; text-align: center;
  animation: popIn .22s ease-out;

  background-image: url('../../../../assets/ui/dark-background.webp');
  background-repeat: repeat;
  background-size: 512px 512px;
  background-position: center;

  filter: brightness(1.02) contrast(0.98);
}

.entity-block {
  display: flex; flex-direction: column; align-items: center; gap: 6px;

  .portrait {
    width: 128px;
    height: 128px;
    filter: drop-shadow(0 2px 0 #0008);
  }
  .name { font-size: 1.05rem; letter-spacing: .5px; color: #ddd; }

  .stats {
    display: flex; gap: 12px; justify-content: center; align-items: center;
    .stat { display: inline-flex; gap: 6px; align-items: center; }
    img { width: 16px; height: 16px; image-rendering: pixelated; }
    .chip {
      font-size: .85rem; padding: 2px 8px; border-radius: 999px;
      background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.12);
      color: #cfcfcf;
    }
  }

  &.player .name { color: #9be7a1; }
  &.enemy  .name { color: #ff8a80; }
}

.center-icon {
  display: flex; flex-direction: column; align-items: center; gap: 6px; margin: 2px 0 4px;
  img {
    width: 128px;
    height: 128px;
    filter: drop-shadow(0 0 8px #000);
  }
}

.actions {
  display: flex; gap: 10px; justify-content: center; margin-top: 4px;
  button {
    padding: 10px 18px; border-radius: 10px; font-size: 1rem; color: #fff;
    background: rgba(255,255,255,.06); border: 1px solid #777;
  }
  .fight { border-color: #4caf50; color: #9be7a1; }
  .flee  { border-color: #e53935; color: #ff8a80; }
}

@keyframes fadeIn { from {opacity:0} to {opacity:1} }
@keyframes popIn { from {transform:scale(.96); opacity:0} to {transform:scale(1); opacity:1} }
