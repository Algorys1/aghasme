<div class="overlay-window" (click)="onSkipText()">
  <div class="overlay-content">
    <div class="overlay-top">
      <img class="overlay-icon" [src]="data.icon" [alt]="mainTitle" />
      <h2 class="overlay-name">{{ mainTitle | translate }}</h2>
    </div>

    <hr class="divider" />

    <div
      class="overlay-header"
      [style.background-image]="'url(assets/overlays/backgrounds/' + kind + '.png)'"
    ></div>

    <hr class="divider" />

    <div class="overlay-body" #bodyContainer>
      <h4 class="overlay-title" [class.no-cursor]="!writingTitle">{{ displayedTitle }}</h4>
      <p class="overlay-description" [class.no-cursor]="!writingDesc">{{ displayedDescription }}</p>
    </div>

    @if(data.actions.length) {
      <hr class="divider last" />
    }

    <div class="overlay-actions">
      @for (action of data.actions; track trackByAction($index, action)) {
        <div class="overlay-action-block">
          <button class="action-btn" (click)="onAction(action)" [disabled]="isActionDisabled(action)">
            <img class="action-img" src='assets/ui/hud-{{ action.toLowerCase() }}.png' />
          </button>
          <small class="consequence">{{ getConsequence(action) }}</small>
        </div>
      }
    </div>

    <hr class="divider" [class]="!data.actions.length ? 'last':''" />

    <div class="overlay-nav">
      @if(data.isCompleted || !isNarrativeType()) {
        <button class="nav-btn" (click)="quit()" [disabled]="disableQuit">{{ 'ACTIONS.QUIT' | translate }}</button>
      } @else {
        <button class="nav-btn" (click)="continue()" [disabled]="disableContinue()">{{ 'ACTIONS.CONTINUE' | translate }}</button>
      }
    </div>
  </div>
  @if(showRestWindow) {
    <app-rest-window (closed)="showRestWindow = false" class="rest-overlay"></app-rest-window>
  }
  @if(showHarvestWindow) {
    <app-harvest-window (closed)="showHarvestWindow = false" [resources]="res" class="rest-overlay"></app-harvest-window>
  }
  @if(showTradeWindow) {
    <app-trade-window (closed)="showTradeWindow = false" class="rest-overlay"></app-trade-window>
  }
</div>
