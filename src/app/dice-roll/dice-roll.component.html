<div class="dice-roll-overlay" [hidden]="!visible">
  <div class="dice-roll-window">
    <h2 class="title">Roll the {{ orb | titlecase }} Die</h2>

    <canvas #diceCanvas></canvas>

    <div class="controls">
      @if(!rolled && !rolling) {
        <button (click)="roll()">🎲 Roll</button>
      }

      @if(rolling) {
        <div class="rolling-text">Rolling...</div>
      }

      @if(rolled) {
        <div class="result-block">
          <div class="result-verdict" [ngClass]="verdict">
            @switch (verdict) {
              @case ('criticalFail') { ❌ Critical Fail! }
              @case ('fail') { Fail }
              @case ('success') { ✅ Success }
              @case ('criticalSuccess') { 🌟 Critical Success! }
              @default { 🎲 Unknown Result }
            }
          </div>

          <button class="close-btn" (click)="emitResult()">Close</button>
        </div>
      }
    </div>
  </div>

</div>
