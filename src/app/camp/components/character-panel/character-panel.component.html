<div class="character-panel" *ngIf="character">
  <div class="char-header">
    <img
      class="portrait"
      [src]="'assets/characters/' + character.archetype + '-' + character.gender + '.png'"
      alt="Portrait"
    />
    <div class="char-info">
      <h2>{{ character.name }}</h2>
      <p>Level {{ character.level }}</p>
    </div>
  </div>

  <div class="bars">
    <div class="bar">
      <img src="assets/ui/hp.png" alt="HP" />
      <span>{{ character.hp }} / {{ getStat('maxHp') }}</span>
    </div>
    <div class="bar">
      <img src="assets/ui/mana.png" alt="MP" />
      <span>{{ character.mp }} / {{ getStat('maxMp') }}</span>
    </div>
  </div>

  <div class="orbs">
    @for(key of orbKeys(); track key) {
      <div class="orb">
        <img [src]="orbDefs[key].icon" [alt]="orbDefs[key].label" />
        <span class="orb-value">{{ getStat('orbs.' + key) }}</span>
        <small>{{ orbDefs[key].label }}</small>
      </div>
    }
  </div>

  <hr />

  <div class="primary-stats">
    <div><strong>Attack:</strong> {{ getStat('attack') }}</div>
    <div><strong>Defense:</strong> {{ getStat('defense') }}</div>
    <div><strong>XP:</strong> {{ getStat('xp') }}</div>
  </div>

  <hr />

  <div class="secondary-stats">
    <div>Fire Resistance: {{ getStat('resist.fire') }}%</div>
    <div>Electric Resistance: {{ getStat('resist.electricity') }}%</div>
    <div>Damage Reflection: {{ getStat('reflect') }}%</div>
    <div>Additional Damage: {{ getStat('damage') }}%</div>
    <div>Mining Bonus: {{ getStat('mine') }}%</div>
    <div>Woodcutting Bonus: {{ getStat('woodcut') }}%</div>
    <div>Herbalism Bonus: {{ getStat('herbalism') }}%</div>
  </div>
</div>
